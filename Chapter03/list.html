<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="Generator" content="EditPlus®">
    <meta name="Author" content="jzee">
    <meta name="Keywords" content="OOP-JAVASCRIPT">
    <meta name="Description" content="core-javascript-study">
    <title>OOP - Chapter03</title>
</head>
<body>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
<div class="car-num_wrap"><label>차량번호 <input type="text" class="car-num" value=""></label> <button type="button" class="car-add_num">추가</button></div>
<ul class="car-num_list">
  <!-- li><label>차량번호 <input type="text" value="가345678"></label> <button type="button" class="car-delete_num">삭제</button></li -->
</ul>


<script type="text/javascript">
carNumList();

function carNumList(){
  $(document).on('click', '.car-add_num', function(){
    var $this = $(this);
    var $input = $('.car-num');
    var val = $input.val();
    var $addTarget = $('.car-num_list');
    var $addList = $('.car-num_list');
    var addList = '<li><label>차량번호 <input type="text" value="' + val + '"></label> ' + '<button type="button" class="car-delete_num">삭제</button></li>';
    var $list = $('.car-num_list>li');
    var listLen = $list.length;
    var listVal;

    for(var i=0; i<listLen; i++){
      listVal = $list.eq(i).find('input[type=text]').val();
      if(listVal === val){
        alert('동일한 차량번호가 존재합니다.');
        $input.val('');
        return;
      }
    }
    val === '' ? alert('차량번호를 입력해주세요.') : $addList.append(addList);
    $input.val('');
  });

  $(document).on('click', '.car-delete_num', function(){
    var $this = $(this);
    var $list = $this.parent('li');
    $list.remove();
  });
}
</script>



</body>
</html>
